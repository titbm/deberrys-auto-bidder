# deBerry's (Zama) Auction Auto Bidder + Zashapon Auto Player

## Описание
Расширение Chrome для автоматизации:
- Автоматических ставок на аукционе deberrys.xyz
- Автоматической игры на zashapon.com (открытие капсул и использование билетов)

## Функционал

### deBerry's Auction Auto Bidder
- Проверка статуса аукциона (автоматически скрывается на завершённых аукционах)
- Проверка валидности данных перед стартом (баланс, ставка)
- Кнопка запуска/остановки в правом нижнем углу страницы аукциона
- Статус-бокс с последними 5 действиями и временем
- Автоматическое размещение ставок с увеличением (текущая+1, текущая+2, текущая+3...)
- Автоматическая остановка при недостатке монет
- Повтор при ошибках

### Zashapon Auto Player
- Автоматическая игра с билетами на главной странице
- Автоматическое открытие капсул из коллекции
- Отслеживание результатов (выигрыш/неудача)
- Автоматическое добавление выигрышей в коллекцию
- Защита от блокировки: остановка после 5 неудач подряд с просьбой сменить IP
- Паузы 3 секунды между действиями

## Структура проекта
```
auction-auto-bidder/
├── manifest.json       # Манифест расширения Chrome
├── content.js          # Основная логика автоставок
├── styles.css          # Стили для кнопки управления
├── README.md           # Документация
└── DEVELOPMENT.md      # Контекст разработки
```

## Установка

### 1. Скачивание файлов с GitHub

1. Нажмите зелёную кнопку **Code**
2. Выберите **Download ZIP**
3. Распакуйте скачанный архив в любую папку на компьютере

### 2. Установка расширения в Chrome

1. Откройте Chrome и перейдите на `chrome://extensions/`
2. Включите **"Режим разработчика"** (Developer mode) в правом верхнем углу
3. Нажмите **"Загрузить распакованное расширение"** (Load unpacked)
4. Выберите папку с распакованными файлами расширения
5. Расширение установлено!

### 3. Использование

#### deBerry's Auction (deberrys.xyz)

1. Откройте страницу аукциона: https://deberrys.xyz/auctions/*
2. Дождитесь загрузки данных (баланс и текущая ставка)
3. В правом нижнем углу появится кнопка "Запустить автоставки"
4. Над кнопкой будет статус-бокс с информацией о балансе и текущей ставке
5. Нажмите кнопку для запуска
6. Расширение будет автоматически делать ставки: текущая+1, текущая+2, текущая+3...
7. Для остановки нажмите кнопку снова

#### Zashapon (zashapon.com)

1. Откройте страницу: https://zashapon.com/
2. В правом нижнем углу появится кнопка "Запустить"
3. Нажмите кнопку для запуска автоигры
4. Расширение будет:
   - Проверять количество билетов
   - Нажимать Play и ждать результата
   - При выигрыше - добавлять в коллекцию
   - При неудаче - закрывать окно и продолжать
   - Когда билеты закончатся - автоматически перейдет к открытию капсул
   - На странице коллекции будет открывать капсулы по одной
5. Если 5 попыток подряд неудачны - остановится с просьбой сменить IP
6. Для остановки нажмите кнопку снова


## Как это работает

### deBerry's Auction - Алгоритм работы:

**Инициализация:**
1. **Проверка статуса аукциона** - проверяет, не завершён ли аукцион (ищет "Auction Complete")
2. **Если аукцион завершён** - показывает сообщение "⚠️ Аукцион завершён" на 5 секунд, затем полностью скрывает UI
3. **Ожидание загрузки** - ждет до 30 секунд, пока загрузятся баланс и текущая ставка
4. **Проверка валидности** - если баланс = "?" или ставка = "Encrypted", показывает ошибку и блокирует запуск
5. **Готовность** - кнопка становится активной, показывается статус с балансом и текущей ставкой

**Цикл ставок:**
1. **Проверка баланса** - читает количество монет из блока BalanceDisplay
2. **Проверка текущей ставки** - читает текущую ставку на аукционе
3. **Открытие модального окна** - кликает на кнопку "Place a Bid", ждет 1000мс
4. **Ввод ставки** - вводит значение ставки в поле input, ждет 500мс
5. **Отправка** - кликает на кнопку submit
6. **Ожидание результата** - ждет до 10 минут появления сообщения об успехе или ошибки
7. **Обработка результата:**
   - **Успех:** закрывает окно, увеличивает ставку на 1, ждет 30 секунд, переходит к следующей
   - **Ошибка:** показывает ошибку 3 секунды, закрывает окно, ждет 3 секунды, повторяет с той же ставкой
8. **Повтор** - цикл продолжается пока хватает монет и не нажата кнопка остановки

**Обработка ошибок:**
- "Relayer didn't response correctly" - повтор через 3 сек
- "No Berries available" - остановка
- "?" в балансе во время работы - остановка
- "Encrypted" в ставке во время работы - остановка

### Zashapon - Алгоритм работы:

**Игра с билетами (главная страница):**
1. **Проверка билетов** - читает количество билетов из элемента `a[aria-label="Ticket"]`
2. **Если билеты есть:**
   - Нажимает кнопку PLAY
   - Ждет 3 секунды
   - Проверяет результат (ищет заголовки "WOW! YOU WON!!!" или "Pod not fully opened")
   - **При выигрыше:** нажимает "Add to collection", сбрасывает счетчик неудач
   - **При неудаче:** увеличивает счетчик неудач, закрывает модальное окно
   - Если 5 неудач подряд - останавливается с просьбой сменить IP
   - Пауза 3 секунды между действиями
3. **Если билеты закончились:**
   - Переходит на страницу https://zashapon.com/collection?view=pods

**Открытие капсул (страница коллекции):**
1. **Поиск капсул** - ищет кнопки "Open" на странице
2. **Если капсулы есть:**
   - Нажимает на первую кнопку Open
   - Ждет 3 секунды
   - Проверяет результат (аналогично билетам)
   - **При выигрыше:** нажимает "Add to collection", сбрасывает счетчик неудач
   - **При неудаче:** увеличивает счетчик неудач, закрывает модальное окно
   - Если 5 неудач подряд - останавливается с просьбой сменить IP
   - Пауза 3 секунды между действиями
3. **Если капсул нет:**
   - Останавливается с сообщением "✅ Нет капсул для открытия"


## Безопасность
- Расширение работает только на доменах deberrys.xyz и zashapon.com
- Не собирает и не отправляет данные
- Весь код выполняется локально

## Возможные проблемы

### Кнопка показывает "Ошибка загрузки данных"
- Баланс показывает "?" или текущая ставка показывает "Encrypted"
- **Решение:** Обновите страницу и подождите полной загрузки данных

### Кнопка не появляется или исчезла
1. Проверьте статус аукциона - если аукцион завершён, расширение автоматически скрывается
2. Обновите страницу
3. Проверьте, что расширение включено в chrome://extensions/
4. Проверьте консоль на наличие ошибок
5. Убедитесь, что вы на странице аукциона (https://deberrys.xyz/auctions/*)

### Кнопка не видна / под элементами сайта
- Расширение использует Shadow DOM для изоляции стилей
- Если проблема сохраняется, проверьте консоль на ошибки

### Ставки не размещаются
1. Проверьте баланс монет (должно быть достаточно)
2. Убедитесь, что модальное окно открывается корректно
3. Проверьте логи в консоли для деталей
4. Проверьте статус-бокс над кнопкой для информации об ошибках

### Автоставки остановились
- Проверьте статус-бокс и консоль для причины остановки
- Возможные причины: недостаток монет, появление "?" или "Encrypted", ошибки сервера
- **Решение:** Проверьте баланс, обновите страницу если нужно, запустите снова

### Zashapon: 5 неудач подряд
- Расширение остановилось с сообщением "⚠️ 5 неудач подряд! Смените IP-адрес!"
- **Решение:** Смените IP-адрес (VPN, прокси, перезагрузка роутера) и запустите снова

### Zashapon: Кнопка не появляется
- Убедитесь, что вы на странице zashapon.com
- Обновите страницу
- Проверьте, что расширение включено в chrome://extensions/

### Zashapon: Не находит элементы
- Возможно, структура сайта изменилась
- Проверьте консоль на наличие ошибок
- Обновите расширение до последней версии


## Обновление
При изменении кода:
1. Сохраните файлы
2. Перейдите в chrome://extensions/
3. Нажмите кнопку обновления расширения (круговая стрелка)
4. Обновите страницу аукциона
